<!DOCTYPE html>

<head>
    <title>Машина вашей мечты</title>
</head>

<body>
    <div>
        <textarea style="display: none"></textarea>
        <header>
            <p data-18n-en="Car or your dream">Машина вашей мечты</p>
            <a href="?lang=en">EN</a> |
            <a href="?lang=ru">RU</a>
        </header>
        <div class="main">
            <div>
                <div>
                    <h1 data-18n-en="Sign-up">Пройдите регистрацию</h1>
                    <form class="registration" onsubmit="return submitForm('Вы зарегистрированы')">
                        <header data-18n-en="It is required only one minute">Это займет 1 минуту</header>
                        <fieldset name="personal_data">
                            <input name="first_name" placeholder="Имя" required data-18n-en="First Name:placeholder">
                            <input name="last_name" placeholder="Фамилия" required data-18n-en="Last Name:placeholder">
                        </fieldset>
                        <textarea name="about" placeholder="Коротко о Вас"
                            data-18n-en="About yourself:placeholder"></textarea>
                        <fieldset name="credentials">
                            <input name="email" placeholder="Email" required>
                            <input name="password" type="password" placeholder="Пароль" required
                                data-18n-en="Password:placeholder">
                        </fieldset>
                        <button type="reset" data-cy="reset" data-18n-en="Reset">Сбросить</button>
                        <button type="submit" data-18n-en="Continue">Продолжить</button>
                    </form>
                    <h1 data-18n-en="Sign-in">Или войдите</h1>
                    <form class="login" onsubmit="return submitForm('Вы вошли')">
                        <fieldset name="credentials">
                            <input name="email" placeholder="Email" required>
                            <input name="password" type="password" placeholder="Пароль" required
                                data-18n-en="Password:placeholder">
                        </fieldset>
                        <button type="reset" data-cy="reset" data-18n-en="Reset">Сбросить</button>
                        <button type="submit" data-18n-en="Login">Войти</button>
                        <footer>
                            <p>
                                <span data-18n-en="Forgot password?">Забыл пароль? </span>
                                <a href="" data-18n-en="Restore">Восстановить</a>
                            </p>
                        </footer>
                    </form>
                </div>
            </div>
        </div>
        <footer>
            <p data-cy='copyright'data-18n-en="All copyrights are reserved.">Все права защищены.</p>
        </footer>
    </div>
    <script>
        function submitForm(title) {
            document.querySelector('.main').innerHTML = `<div class="success">${title}</div>`
            return false;
        }
        function getHash() {
            var rnd = 100000 + Math.floor(Math.random() * 100000);
            var hash = [];
            for (var i = rnd; i > 1; i = Math.floor(i / 10)) {
                var digit = i % 10;
                hash.push(['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'k'][digit]);
                hash.push(digit);
            }
            return hash.join('');
        }
        var elements = document.querySelectorAll(['input', 'form', 'button']);
        for (var e of elements) {
            e.setAttribute('id', getHash());
        }

        if (location.search.includes('lang=en')) {
            var elements = document.querySelectorAll('[data-18n-en]');
            for (var e of elements) {
                var [label, attr] = e.getAttribute('data-18n-en').split(':');
                if (!!attr) {
                    e.setAttribute(attr, label);
                } else {
                    e.innerText = label;
                }
            }

        }
    </script>
</body>

</html>